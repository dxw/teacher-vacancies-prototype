<aside class="">
    <form action="/vacancies">
        <div class="filter-controls">
            Filter vacancies:
            <div class="clear-filters">
                <a href="/vacancies">Clear filters</a>
            </div>
        </div>
        <div class="filter-field-text">
            <div class="container-head js-container-head">
                <div class="option-select-label">Location</div>
            </div>
            <div class="container-search">
                <input id="location" type="search" name="location" placeholder="Town, postcode or region" value="{{ data['location'] }}">
                <select name="search-radius" id="search-radius" class="form-control form-control-block" disabled>
                    <option id="nationally">Nationally</option>
                    <option id="exactly">This area exactly</option>
                    {% for radius in json.search_radius %}
                        {% set selected = ' selected' if data['search-radius'] == range %}
                        <option{{ selected }}>{{ radius }}</option>
                    {% endfor %}
                </select>
                <input class="submit" type="submit" value="Search">
            </div>
        </div>
        <div class="filter-field-text">
            <div class="container-head js-container-head">
                <div class="option-select-label">Keywords</div>
            </div>
            <div class="container-search">
                <input id="keyword" type="search" name="keyword" placeholder="eg. role or subject" value="{{ data['keyword'] }}">
                <input class="submit" type="submit" value="Search">
            </div>
        </div>
        <div class="govuk-option-select" >
            <div class="container-head js-container-head">
                <div class="option-select-label">Salary range</div>
            </div>
            <div class="options-container" id="salary-range">
                <div class="js-auto-height-inner">
                    {% for range in json.salary_range %}
                        <label for="{{ range | slug }}">
                            <input name="salary_ranges[]" value="{{ range }}" id="{{ range | slug }}" type="checkbox" aria-controls="" {{ multiple_checked(range, data['salary_ranges']) }}>
                            {{ range }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="govuk-option-select" data-closed-on-load="true">
            <div class="container-head js-container-head">
                <div class="option-select-label">Working pattern</div>
            </div>
            <div class="options-container" id="market-sector">
                <div class="js-auto-height-inner">
                    {% for type in json.contract_type %}
                        <label for="{{ type | slug }}">
                            <input name="working_patterns[]" value="{{ type }}" id="{{ type | slug }}" type="checkbox" aria-controls="" {{ multiple_checked(type, data['working_patterns']) }}>
                            {{ type }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="govuk-option-select" data-closed-on-load="true">
            <div class="container-head js-container-head">
                <div class="option-select-label">Education stage</div>
            </div>
            <div class="options-container" id="market-sector">
                <div class="js-auto-height-inner">
                    {% for stage in json.key_stages %}
                        <label for="{{ stage | slug }}">
                            <input name="key_stages[]" value="{{ stage }}" id="{{ stage | slug }}" type="checkbox" aria-controls="" {{ multiple_checked(stage, data['key_stages']) }}>
                            {{ stage }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="govuk-option-select" data-closed-on-load="true">
            <div class="container-head js-container-head">
                <div class="option-select-label">Leadership level</div>
            </div>
            <div class="options-container" id="market-sector">
                <div class="js-auto-height-inner">
                    {% for level in json.leadership_level %}
                        {% if level != 'Not applicable' %}
                            <label for="{{ level | slug }}">
                                <input name="leadership_levels[]" value="{{ level }}" id="{{ level | slug }}" type="checkbox" aria-controls="" {{ multiple_checked(level, data['leadership_levels']) }}>
                                {{ level }}
                            </label>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>

        <input type="hidden" name="search_results" value="1">
        <input class="button" type="submit" value="Apply filters">
    </form>
</aside>
