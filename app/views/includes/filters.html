<aside class="filters padding">
    <form action="/vacancies">
        <h3 class="heading-medium no-margin">Filter vacancies</h3>
        <div class="form-group">
            <label class="form-label" for="location">
                Location
            </label>
            <input class="form-control form-control-block" id="location" type="text" name="location" placeholder="Town, postcode or region" value="{{ data['location'] }}">
        </div>
        <div class="form-group">
            <label class="form-label" for="search-radius">
                Search radius
            </label>
            <select name="search-radius" id="search-radius" class="form-control form-control-block" disabled>
                <option id="nationally">Nationally</option>
                <option id="exactly">This area exactly</option>
                {% for radius in json.search_radius %}
                    {% set selected = ' selected' if data['search-radius'] == range %}
                    <option{{ selected }}>{{ radius }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label class="form-label" for="keyword">
                Keyword
            </label>
            <input class="form-control form-control-block" id="keyword" type="text" name="keyword" placeholder="eg. role or subject" value="{{ data['keyword'] }}">
        </div>
        <div class="form-group">
            <label class="form-label" for="salary-range">
                Salary range
            </label>
            <select name="salary-range" id="salary-range" class="form-control form-control-block">
                <option value="">Any</option>
                {% for range in json.salary_range %}
                    {% set selected = ' selected' if data['salary-range'] == range %}
                    <option{{ selected }}>{{ range }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label class="form-label" for="working-pattern">
                Working pattern
            </label>
            <select name="contract_type" id="working-pattern" class="form-control form-control-block">
                <option value="">Any</option>
                {% for type in json.contract_type %}
                    {% set selected = ' selected' if data['working-pattern'] == type %}
                    <option{{ selected }}>{{ type }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label class="form-label">
                Education stage
            </label>

            {% for stage in json.key_stages %}
                {% set selected = ' checked' if data['key_stages'].indexOf(stage) >= 0 %}
                <div>
                    <input type="checkbox" name="key_stages[]" {{ selected }} value="{{ stage }}" id="{{ stage | slug }}">
                    <label for="{{ stage | slug }}">{{ stage }}</label>
                </div>
            {% endfor %}
        </div>
        <input type="hidden" name="search_results" value="1">
        <input class="button" type="submit" value="Apply filters">
    </form>
</aside>
